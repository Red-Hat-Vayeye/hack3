google.maps.__gjsload__('visualization_impl', function(_){var m4=function(a){for(var b=Array(a),c=0;c<a;++c)b[c]=0;c=Array(a);for(var d=0;d<a;++d)c[d]=b.concat();return c},n4=function(a){if(!a||!a.getLength())return 1;var b=new _.rc;a.forEach(function(a){a&&b.extend(a.location?a.location:a)});var c=b.f.b,d=b.b.b,e=Math.max(b.f.f-c,b.b.f-d);if(1E-9>e){var f=0;a.forEach(function(a){a instanceof _.K?++f:f+=a.weight});return Math.max(1,f)}var g=800/e,h=m4(800),k=1;a.forEach(function(a){if(a){var b=a.location?a.location:a;a=a.weight||1;b=new _.H(Math.max(0,Math.min(799,
Math.floor((b.lat()-c)*g))),Math.max(0,Math.min(799,Math.floor((b.lng()-d)*g))));h[b.x][b.y]+=a;k=Math.max(k,h[b.x][b.y])}});return k},p4=function(a,b){var c=[],d=[],e=1E3/(a.length-1);_.A(a,function(a,b){c.push(b*e);d.push(_.YH(a))});a=Array(1001);for(var f=0,g=0;1001>g;++g)g>c[f+1]&&++f,a[g]=f<c.length-1?o4(e*f,g,e*(f+1),d[f],d[f+1]):d[d.length-1],a[g].alpha*=b,a[g].alpha=_.vb(Math.floor(255*a[g].alpha),0,255);return a},o4=function(a,b,c,d,e){if(a==c)return d;a=(b-a)/(c-a);return new _.VH(Math.floor((e.j-
d.j)*a+d.j),Math.floor((e.f-d.f)*a+d.f),Math.floor((e.b-d.b)*a+d.b),(e.alpha-d.alpha)*a+d.alpha)},q4=function(a,b){this.l=a;this.f=b;this.b=1;this.j=[]},s4=function(a,b,c){_.dl(b.Z,"");if(_.ww()){var d=b.ownerDocument,e,f=e=d.createElement("canvas");_.jl(f);f.width=f.height=256;f=f.getContext("2d");var g=1<a.b;b.Z.appendChild(e);b=r4(a,b);e=a.j;for(var h=Math.floor(e.length/2),k=b.length,n=k-h,p=m4(k),r=0;r<k;++r)for(var t=b[r],v=p[r],x=0;x<k;++x){var w=t[x];if(w)for(var y=x-h,B=Math.min(n,x+h+1),
D=Math.max(h,y);D<B;++D)v[D]+=w*e[D-y]}b=m4(k-2*h);for(r=0;r<k;++r)for(t=p[r],v=Math.max(h,r-h),x=Math.min(n,r+h+1),w=r-h,y=h,B=0;y<n;++y,++B)if(D=t[y])for(var I=v;I<x;++I)b[I-h][B]+=D*e[I-w];e=Math.ceil(256/a.b);e=f.createImageData(e,e);h=a.get("gradient");k=h[h.length-1];c=h.length/c;n=e.data;r=p=0;for(t=b.length;r<t;++r)for(v=b[r],x=0,w=v.length;x<w;++x)(y=v[x])||h[0].alpha?(y=h[Math.floor(y*c)]||k,n[p++]=y.j,n[p++]=y.f,n[p++]=y.b,n[p++]=y.alpha):p+=4;g?(d=d.createElement("canvas"),d.width=d.height=
256/a.b,d.getContext("2d").putImageData(e,0,0),f.scale(a.b,a.b),f.drawImage(d,0,0)):f.putImageData(e,0,0)}},r4=function(a,b){var c=a.get("projection");c=_.Dl(c);var d=a.get("radius");d=Math.round(d/a.b)*a.b;var e=b.Mb,f=(256+2*d)/a.b,g=m4(f),h;for(h in e){var k=e[h],n=c.fromLatLngToPoint(new _.K(k.O,k.R,!0)),p=c.fromLatLngToPoint(new _.K(k.T,k.V,!0)),r=null;r=_.Ti(a.f,new _.Zb(n.x,n.y),b.zoom,_.na());p=_.Ti(a.f,new _.Zb(p.x,p.y),b.zoom,_.na());n=d/256;r=_.Li(a.f,{M:Math.min(r.M,p.M)+n,N:Math.min(r.N,
p.N)+n,ca:b.zoom});r=new _.H(r.J,r.K);k=a.l.search(k);p=0;for(n=k.length;p<n;++p){var t=k[p],v=c.fromLatLngToPoint(new _.K(t.ra.x,t.ra.y)),x=0,w=0;v=_.Eu(a.f,new _.Zb(v.x,v.y),new _.Zb(r.x,r.y),b.zoom);x=Math.floor(256*v.M);w=Math.floor(256*v.N);v=Math.floor((w+d)/a.b);x=Math.floor((x+d)/a.b);0<=v&&v<f&&0<=x&&x<f&&(g[v][x]+=t.weight)}}return g},x4=function(a,b){b=void 0===b?_.Uh:b;_.og.call(this);var c=this;this.m=b;this.D=new _.J(256,256);this.b={};b=_.gc(-100,-300,100,300);this.A=new _.YC(b,void 0);
b=_.gc(-90,-180,90,180);this.j=_.TH(b,function(a,b){return a.ra.da(b.ra)&&a.weight==b.weight});this.Y=[];this.B=new _.$c;this.f=0;this.l=new q4(this.j,this.m);this.l.bindTo("projection",this,"projection",!0);this.l.bindTo("gradient",this,"gradient",!0);this.l.bindTo("radius",this,"radius",!0);a(this.B,function(a){return s4(c.l,a,c.f)});this.I=new _.Sn(function(){var a=c.f;c.f=t4(c);_.xb(a,c.f)||u4(c)},0);this.addListener("data_changed",function(){return v4(c)});this.addListener("maxintensity_changed",
function(){c.f=t4(c);u4(c)});this.addListener("gradient_changed",function(){u4(c)});this.addListener("opacity_changed",function(){var a=c.get("opacity"),b;for(b in c.b)c.b.hasOwnProperty(b)&&_.Wv(c.b[b].Z,a)});this.addListener("radius_changed",function(){for(var a in c.b)if(c.b.hasOwnProperty(a)){var b=c.b[a],f=void 0,g=b.Mb;for(f in g)g.hasOwnProperty(f)&&c.A.remove(g[f]);b.Mb={};w4(c,b)}u4(c)});this.triggersTileLoadEvent=!0},w4=function(a,b){var c={M:b.ia.x,N:b.ia.y,ca:b.zoom},d=a.get("radius"),
e=_.Dl(a.get("projection")),f=_.Li(a.m,c);f=new _.H(f.J,f.K);d=_.Ui(a.m,c,d/256);c=d.min;d=d.max;c=_.gc(c.J,c.K,d.J,d.K);_.UH(c,e,f,function(c){c.b=b;b.Mb[_.Jc(c)]=c;_.ZC(a.A,c)})},t4=function(a){var b=a.get("maxIntensity");return 1<=b?b:n4(a.get("data"))},v4=function(a){a.j.clear();var b=a.get("data");b&&(b.forEach(function(b){b&&_.SH(a.j,y4(b))}),a.I.j());u4(a);for(var c=_.Aa(a.Y),d=c.next();!d.done;d=c.next())_.M.removeListener(d.value);a.Y=b?[b.addListener("insert_at",function(b){return z4(a,
b)}),b.addListener("remove_at",function(b,c){return A4(a,c)}),b.addListener("set_at",function(b,c){A4(a,c);z4(a,b)})]:[]},z4=function(a,b){if(b=a.get("data").getAt(b))b=y4(b),_.SH(a.j,b),a.I.j(),B4(a,b.ra)},A4=function(a,b){b&&(b=y4(b),a.j.remove(b),a.I.j(),B4(a,b.ra))},B4=function(a,b){b=_.aD(a.A,b);b=_.Aa(b);for(var c=b.next();!c.done;c=b.next())_.ad(a.B,c.value.b)},u4=function(a){for(var b in a.b)a.b.hasOwnProperty(b)&&_.ad(a.B,a.b[b])},y4=function(a){var b=a.location?a.location:a;a=a.weight||
1;return{ra:new _.H(b.lat(),b.lng()),weight:a}},C4=function(a,b){var c=new _.rB(_.tB(250));this.b=a;a.b=(0,_.u)(this.j,this);this.m=b;this.f=c},D4=_.l(),E4="rgba(102, 255, 0, 0);rgba(102, 255, 0, 1);rgba(147, 255, 0, 1);rgba(193, 255, 0, 1);rgba(238, 255, 0, 1);rgba(244, 227, 0, 1);rgba(249, 198, 0, 1);rgba(255, 170, 0, 1);rgba(255, 113, 0, 1);rgba(255, 57, 0, 1);rgba(255, 0, 0, 1)".split(";");_.z(q4,_.N);q4.prototype.radius_changed=function(){var a=this.get("radius");_.ww()?this.b=20>a?1:2:this.b=4;a=Math.round(a/this.b);for(var b=a/3,c=[],d=-a;d<=a;d++)c.push(Math.exp(-d*d/(2*b*b)));this.j=c};_.Vi(x4,_.og);x4.prototype.Ha=function(){return{tileSize:{X:this.D.width,$:this.D.height},ta:this.m,gb:!0,lb:3,Xa:this.na.bind(this)}};
x4.prototype.na=function(a,b){var c=this;b=void 0===b?{}:b;var d=void 0===b.xa?_.l():b.xa,e=void 0===b.Na?_.l():b.Na,f=!1,g=window.document.createElement("div");_.pf(g,this.D);b=this.get("opacity");void 0!==b&&_.Wv(g,b);var h={Z:g,zoom:a.ca,ia:new _.H(a.M,a.N),Mb:{},ownerDocument:window.document};g.Aa=h;this.b[_.Jc(h)]=h;w4(this,h);this.f||(this.f=t4(this));s4(this.l,h,this.f);_.kb(function(){f=!0;d()});return{Da:function(){return g},Jb:function(){return f},ia:a,release:function(){_.dl(g,"");delete c.b[_.Jc(h)];
e()},freeze:_.l()}};x4.prototype.releaseTile=function(a){if(a){var b=a.Aa;a.Aa=null;delete this.b[_.Jc(b)];a=this.A;for(var c in b.Mb)b.Mb.hasOwnProperty(c)&&a.remove(b.Mb[c]);_.dl(b.Z,"")}};C4.prototype.j=function(){_.sB(this.f,(0,_.u)(this.l,this))};C4.prototype.l=function(){a:{var a=this.b.f;for(var b in a){a=a[b];this.b.remove(a);break a}a=null}a&&this.m(a)};D4.prototype.b=function(a){var b=a.j,c=a.j=a.get("map");b&&(a.b&&a.b.unbindAll(),a.f&&a.f.release(),_.hm("Lh","-p",a));if(c){var d=function(){k&&k.unbindAll();k=new x4(g,h);c&&k.bindTo("projection",c);k.bindTo("data",a);k.bindTo("maxIntensity",a);k.bindTo("gradient",e,"colorGradient");k.bindTo("radius",f,"renderingRadius");a.b&&(k.bindTo("opacity",a.b),e.set("opacity",1))};a.b=new _.Sq({dissipating:!0,gradient:E4,opacity:.6,radius:10});a.b.bindTo("dissipating",a);a.b.bindTo("gradient",a);a.b.bindTo("opacity",
a);a.b.bindTo("radius",a);var e=new _.uw(["stringGradient","opacity"],"colorGradient",function(a,b){return p4(a,b)});e.bindTo("stringGradient",a.b,"gradient",!0);var f=new _.uw(["radius","dissipating","zoom"],"renderingRadius",function(a,b,c){return b?a:Math.min(Math.round(a*Math.pow(2,c)),256)});f.bindTo("radius",a.b);f.bindTo("zoom",c);f.bindTo("dissipating",a.b);var g=function(a,b){new C4(a,b)};b=c.__gm;var h=void 0,k=null;d();var n=k.Ha(),p=_.id(n);b.b.then(function(a){_.wi(a.Wc,function(a){a&&
h!=a.ta&&(h=a.ta,d(),p.set(k.Ha()))})});_.WC(c,p,"overlayLayer",15,{ii:function(b){a.f=b}});_.em(c,"Lh");_.gm("Lh","-p",a,!!c.ja)}};_.Qd("visualization_impl",new D4);});
